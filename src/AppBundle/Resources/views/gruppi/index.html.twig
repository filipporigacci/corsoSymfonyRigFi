<h1>Gruppi</h1>
<table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th class="col-xs-7">Nome</th>
            <th class="col-xs-3">Azione</th>
        </tr>
    </thead>
    <tbody>
{#{{ dump() }}#}
    {% for group in groups %}
        <tr>
            <td>
                <a href="#" onclick="loadFormIntoModal(Routing.generate('gruppi_edit',{id:{{ group.id }}}));">{{ group.descrizione }} </a>
                <br>n. persone: {{  group.elencoPersone | length}}
            </td>
            <td>
                {#<ul>#}
                    {#<li>#}
                        <a href="#" onclick="loadFormIntoModal(Routing.generate('gruppi_add_persona',{id:{{ group.id }}}));">Aggiungi persone al gruppo</a>
                    {#</li>#}
                {#</ul>#}
            </td>
        </tr>
    {% endfor %}
                    {#{% for persona in groups.elencoPersone %}#}
                        {#<tr>#}
                            {#<td>{{ groups.descrizione }}</td>#}
                            {#<td>{{ groups.cognome }}</td>#}
                            {#<td>{{ persona.dataNascita | date('d/m/Y') }}</td>#}
                            {#<td>{{ persona.codiceFiscale }}</td>#}
                            {#<td>{{ persona.email }}</td>#}
                            {#<td>{% if persona.idGruppo !=null %}#}
                                    {#<a href="#"#}
                                       {#onclick="loadFormIntoModal(Routing.generate('gruppi_edit',{id:{{ persona.idGruppo.id }}}));"#}
                                    {#>{{ persona.idGruppo.descrizione }} </a>#}
                                    {#<br># {{  persona.idGruppo.elencoPersone | length}}#}
                                {#{% endif %}#}
                            {#</td>#}
                            {#<td>{% if persona.idSquadra !=null %}#}
                                    {#<a href="#"#}
                                    {#onclick="loadFormIntoModal(Routing.generate('squadre_edit',{id:{{ persona.idSquadra.id }}}));"#}
                                    {#>#}
                                    {#{{ persona.idSquadra.nome }}#}
                                    {#</a>#}
                                    {#<br># {{  persona.idSquadra.elencoPersone | length}}#}
                                {#{% endif %}#}
                            {#</td>#}
                            {#<td>#}
                                {#<ul>#}
                                    {#<li>#}
                                        {#<a href="#"#}
                                           {#onclick="loadFormIntoModal(Routing.generate('persone_edit',{id:{{ persona.id }}}));"#}
                                        {#>edit</a>#}
                                    {#</li>#}
                                    {#<li>#}
                                        {#<a href="#"#}
                                           {#onclick="loadConfirmModal(Routing.generate('persone_delete',{id:{{ persona.id }}}))"#}
                                        {#>cancella</a>#}
                                    {#</li>#}
                                {#</ul>#}
                            {#</td>#}
                        {#</tr>#}
                    {#{% endfor %}#}
    </tbody>
</table>


<ul>
    <li>
        <a href="#" onclick="loadFormIntoModal(Routing.generate('group_new'));">Nuovo gruppo</a>
    </li>
</ul>